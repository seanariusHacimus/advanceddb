"use strict";(self.webpackChunkadvanced_db=self.webpackChunkadvanced_db||[]).push([[476],{92476:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var i,s=n(9950),r=n(73878),o=n(58522),l=n(30720),a=n(69216),c=n(27741),d=n(25933),h=n(93047),p=n(6560),C=n(57528);const u=n(19335).Ay.div(i||(i=(0,C.A)(["\n\n  .ant-modal-mask {\n    z-index: 1080;\n  }\n\n  .ant-modal {\n    width: 80%;\n    max-width: 720px;\n  }\n\n  .ant-modal-wrap {\n    z-index: 1080;\n  }\n\n  .title {\n    font-size: 24px;\n    font-weight: 400;\n    line-height: 30px;\n    color: #252A32;\n    margin-bottom: 10px;\n  }\n\n  .sub-title {\n    color: #7E829D;\n    font-weight: 400;\n  }\n\n  .switch {\n    padding: 10px 12px;\n    background: #F0F2F6;\n    height: 41px;\n    border-radius: 5px;\n    color: #7E829D;\n  }\n\n  .ant-switch {\n    width: 34px;\n    background-color: #CDD5DE;\n  }\n\n  .ant-switch-checked {\n    background-color: var(--blue);\n  }\n\n  .switch-item-title {\n    color: var(--text);\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 17px;\n  }\n  \n  .switch.checked {\n    background: #E7EAF0;\n    color: var(--text);\n  }\n"])));var m,f,b=n(56033);const g=["title","titleId"];function x(){return x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},x.apply(null,arguments)}function w(t,e){let{title:n,titleId:i}=t,r=function(t,e){if(null==t)return{};var n,i,s=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(-1!==e.indexOf(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}(t,g);return s.createElement("svg",x({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":i},r),n?s.createElement("title",{id:i},n):null,m||(m=s.createElement("path",{d:"M9.99996 13.3334C11.8383 13.3334 13.3333 11.8384 13.3333 10.0001C13.3333 8.16175 11.8383 6.66675 9.99996 6.66675C8.16163 6.66675 6.66663 8.16175 6.66663 10.0001C6.66663 11.8384 8.16163 13.3334 9.99996 13.3334ZM9.99996 8.33341C10.9033 8.33341 11.6666 9.09675 11.6666 10.0001C11.6666 10.9034 10.9033 11.6667 9.99996 11.6667C9.09663 11.6667 8.33329 10.9034 8.33329 10.0001C8.33329 9.09675 9.09663 8.33341 9.99996 8.33341Z",fill:"#717A8F"})),f||(f=s.createElement("path",{d:"M2.37086 13.4467L3.20419 14.8884C3.64669 15.6526 4.71169 15.9392 5.47919 15.4967L5.92003 15.2417C6.40503 15.6226 6.93753 15.9351 7.50003 16.1684V16.6667C7.50003 17.5859 8.24753 18.3334 9.16669 18.3334H10.8334C11.7525 18.3334 12.5 17.5859 12.5 16.6667V16.1684C13.0625 15.9351 13.595 15.6226 14.08 15.2426L14.5209 15.4976C15.29 15.9392 16.3525 15.6542 16.7967 14.8884L17.6292 13.4476C18.0892 12.6517 17.8159 11.6301 17.02 11.1709L16.5992 10.9276C16.6442 10.6184 16.6667 10.3092 16.6667 10.0001C16.6667 9.69092 16.6442 9.38092 16.5992 9.07425L17.02 8.83092C17.8159 8.37092 18.0892 7.35008 17.6292 6.55425L16.7967 5.11342C16.3542 4.34675 15.29 4.05925 14.5209 4.50341L14.08 4.75841C13.595 4.37758 13.0625 4.06508 12.5 3.83175V3.33341C12.5 2.41425 11.7525 1.66675 10.8334 1.66675H9.16669C8.24753 1.66675 7.50003 2.41425 7.50003 3.33341V3.83175C6.93753 4.06508 6.40503 4.37758 5.92003 4.75758L5.47919 4.50258C4.70919 4.06008 3.64586 4.34675 3.20336 5.11258L2.37086 6.55341C1.91086 7.34925 2.18419 8.37091 2.98003 8.83008L3.40086 9.07341C3.35586 9.38091 3.33336 9.69092 3.33336 10.0001C3.33336 10.3092 3.35586 10.6184 3.40086 10.9259L2.98003 11.1692C2.18419 11.6292 1.91086 12.6509 2.37086 13.4467ZM5.14253 11.1484C5.04836 10.7709 5.00003 10.3842 5.00003 10.0001C5.00003 9.61508 5.04836 9.22841 5.14169 8.85175C5.23169 8.49091 5.07253 8.11425 4.75003 7.92841L3.81419 7.38675L4.64586 5.94592L5.60003 6.49758C5.92003 6.68175 6.32253 6.63508 6.59003 6.37925C7.15919 5.84008 7.84586 5.43675 8.57669 5.21341C8.92753 5.10675 9.16669 4.78258 9.16669 4.41675V3.33341H10.8334V4.41675C10.8334 4.78258 11.0725 5.10675 11.4234 5.21341C12.1542 5.43758 12.8409 5.84008 13.41 6.37925C13.6775 6.63508 14.0817 6.68091 14.4 6.49758L15.3534 5.94675L16.1867 7.38758L15.25 7.92841C14.9275 8.11508 14.7684 8.49175 14.8584 8.85175C14.9517 9.22841 15 9.61508 15 10.0001C15 10.3842 14.9517 10.7709 14.8575 11.1484C14.7684 11.5092 14.9275 11.8859 15.25 12.0717L16.1859 12.6126L15.3542 14.0534L14.4 13.5026C14.0809 13.3184 13.6775 13.3642 13.41 13.6209C12.8409 14.1601 12.1542 14.5634 11.4234 14.7867C11.0725 14.8934 10.8334 15.2176 10.8334 15.5834L10.835 16.6667H9.16669V15.5834C9.16669 15.2176 8.92753 14.8934 8.57669 14.7867C7.84586 14.5626 7.15919 14.1601 6.59003 13.6209C6.43169 13.4692 6.22503 13.3917 6.01669 13.3917C5.87336 13.3917 5.73003 13.4284 5.60003 13.5034L4.64669 14.0551L3.81336 12.6142L4.75003 12.0717C5.07253 11.8859 5.23169 11.5092 5.14253 11.1484Z",fill:"#717A8F"})))}const v=s.forwardRef(w);n.p;var L=n(61456),j=n(22253),k=n(44414);class y extends s.Component{constructor(){super(...arguments),this.state={visible:!1,title:"",indicators:[],selectedUsers:[]},this.showModal=()=>{this.setState({visible:!0})},this.handleCancel=t=>{console.log(t),this.setState({visible:!1})},this.handleSwitch=(t,e)=>{const{dataset:n}=e.currentTarget,{indicators:i}=this.state,s=i.map(e=>(e.id==n.id&&(e.visible=t),e));this.setState({indicators:s})},this.handleSubmit=t=>{t.preventDefault();const{indicators:e}=this.state,n=e.reduce((t,e)=>{const n=this.props.indicators.find(t=>t.id===e.id);return e.visible!==n.visible?(t.push(e),t):t},[]).map(t=>{const{id:e,visible:n,title:i}=t;return(0,L.zU)({id:e,group:{visible:n,title:i}})});Promise.all(n).then(t=>{this.props.fetchWorkingGroupsAction(),this.props.modalHandler(),this.props.fetchDashboardReport()}).catch(t=>console.log(t))}}componentDidMount(){this.props.fetchWorkingGroupsAction(),this.setState({indicators:this.props.indicators})}componentDidUpdate(t){t.indicators!==this.props.indicators&&window.scrollTo(0,0)}render(){const{indicators:t}=this.state,{t:e}=this.props;return(0,k.jsxs)(u,{ref:t=>this.parentRef=t,children:[(0,k.jsx)(a.A,{theme:"light",className:"side-bar-menu",mode:"inline",defaultSelectedKeys:[""],children:(0,k.jsx)(a.A.Item,{icon:(0,k.jsx)(v,{className:"menu-icon"}),children:(0,k.jsx)(h.N_,{to:"/#indicators",onClick:this.showModal,children:e("Indicator settings")})},"indicator")}),(0,k.jsxs)(c.A,{title:null,visible:this.props.modalVisible,onCancel:this.props.modalHandler,footer:null,zIndex:1080,width:"80%",style:{maxWidth:800},children:[(0,k.jsx)("h2",{className:"title",children:e("Customize Dashboard Reports")}),(0,k.jsx)("h4",{className:"sub-title",children:e("Select the working groups to include in your report")}),(0,k.jsxs)(l.fI,{gutter:[20,20],children:[t.map(t=>(0,k.jsx)(l.fv,{span:24,md:12,children:(0,k.jsxs)(b.so,{jc:"space-between",className:"switch ".concat(t.visible&&"checked"),children:[(0,k.jsx)("div",{className:"switch-item-title",children:e(t.title)}),(0,k.jsx)(d.A,{size:"small","data-id":t.id,onChange:this.handleSwitch,checked:t.visible})]})},t.id)),(0,k.jsx)(l.fv,{span:24,children:(0,k.jsxs)(b.so,{children:[(0,k.jsx)(b.$n,{type:"reset",onClick:this.props.modalHandler,style:{height:51,marginRight:12},children:e("Cancel")}),(0,k.jsx)(b.$$,{onClick:this.handleSubmit,children:e("Apply")})]})})]})]})]})}}const A=(0,r.Ng)(t=>({indicators:t.workingGroups.data}),t=>(0,o.zH)({fetchWorkingGroupsAction:p.w$},t))((0,j.L)(y))}}]);