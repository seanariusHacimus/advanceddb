"use strict";(self.webpackChunkadvanced_db=self.webpackChunkadvanced_db||[]).push([[508],{28508:(n,e,s)=>{s.r(e),s.d(e,{default:()=>I});var i,r,a,l,o,t,d,c=s(9950),x=s(30720),h=s(53223),p=s(24276),m=s(19201),v=s(67637),u=s(27255),f=s(46327),g=s(27453),b=s(25045),j=s.n(b),y=s(22253),N=s(37190),_=s(57528),A=s(19335);const w=A.Ay.div(i||(i=(0,_.A)(["\n  .modal-header {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    margin-bottom: 0;\n    padding-bottom: 8px;\n    border-bottom: 1px solid hsl(var(--border));\n    gap: 12px;\n    transition: border-color 0.3s ease;\n\n    .header-left {\n      flex: 1;\n\n      h1 {\n        margin: 0 0 8px 0;\n        font-size: 24px;\n        font-weight: 700;\n        color: hsl(var(--foreground));\n        line-height: 1.2;\n        transition: color 0.3s ease;\n      }\n\n      .subtitle {\n        font-size: 14px;\n        color: hsl(var(--muted-foreground));\n        transition: color 0.3s ease;\n      }\n    }\n\n    .header-right {\n      display: flex;\n      align-items: center;\n      gap: 12px;\n      margin-right: 24px;\n    }\n  }\n  .status-button {\n    border: none;\n    width: fit-content;\n\n    pointer-events: none;\n  }\n"]))),z=A.Ay.div(r||(r=(0,_.A)(["\n  .section-title {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-size: 14px;\n    font-weight: 600;\n    color: hsl(var(--foreground));\n    margin-bottom: 16px;\n    transition: color 0.3s ease;\n\n    .section-icon {\n      color: hsl(var(--primary));\n      transition: color 0.3s ease;\n    }\n  }\n\n  .section-content {\n    background: hsl(var(--card));\n    border: 1px solid hsl(var(--border));\n    border-radius: 8px;\n    padding: 16px;\n    transition: background-color 0.3s ease, border-color 0.3s ease;\n  }\n"]))),M=A.Ay.div(a||(a=(0,_.A)(["\n  display: flex;\n  padding: 12px 0;\n  border-bottom: 1px solid hsl(var(--border) / 0.5);\n  transition: border-color 0.3s ease;\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  .info-label {\n    font-size: 13px;\n    color: hsl(var(--muted-foreground));\n    width: 140px;\n    flex-shrink: 0;\n  }\n\n  .info-value {\n    font-size: 14px;\n    color: hsl(var(--foreground));\n    font-weight: 500;\n    flex: 1;\n  }\n"]))),k=A.Ay.div(l||(l=(0,_.A)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n"]))),Y=A.Ay.div(o||(o=(0,_.A)(["\n  background: hsl(var(--muted) / 0.3);\n  border: 1px solid hsl(var(--border));\n  border-radius: 16px;\n  padding: 6px 12px;\n  font-size: 13px;\n  color: hsl(var(--foreground));\n  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;\n"]))),D=A.Ay.div(t||(t=(0,_.A)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 0;\n  border-bottom: 1px solid #f0f0f0;\n\n  &:last-child {\n    border-bottom: none;\n  }\n\n  .attachment-info {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    flex: 1;\n\n    .file-icon {\n      width: 32px;\n      height: 32px;\n      background: hsl(var(--muted) / 0.3);\n      border-radius: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: hsl(var(--muted-foreground));\n      transition: background-color 0.3s ease, color 0.3s ease;\n    }\n\n    .file-name {\n      font-size: 14px;\n      color: hsl(var(--foreground));\n      font-weight: 500;\n      text-decoration: none;\n      transition: color 0.3s ease;\n\n      &:hover {\n        color: hsl(var(--primary));\n      }\n    }\n  }\n\n  .download-btn {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    color: hsl(var(--primary));\n    font-size: 13px;\n    cursor: pointer;\n    padding: 6px 12px;\n    border-radius: 4px;\n    transition: all 0.2s ease;\n\n    &:hover {\n      background: hsl(var(--accent));\n      color: hsl(var(--accent-foreground));\n    }\n  }\n"]))),C=A.Ay.div(d||(d=(0,_.A)(["\n  background: hsl(var(--card));\n  border: 1px solid hsl(var(--border));\n  border-radius: 8px;\n  padding: 16px;\n  margin-bottom: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    border-color: hsl(var(--primary));\n    box-shadow: 0 2px 8px hsl(var(--primary) / 0.1);\n  }\n\n  .subaction-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 8px;\n\n    .subaction-number {\n      font-size: 14px;\n      font-weight: 600;\n      color: hsl(var(--foreground));\n      margin-right: 12px;\n      transition: color 0.3s ease;\n    }\n\n    .subaction-status {\n      flex: 1;\n    }\n\n    .expand-icon {\n      color: hsl(var(--muted-foreground));\n      font-size: 14px;\n      transition: color 0.3s ease;\n    }\n  }\n\n  .subaction-description {\n    font-size: 14px;\n    color: hsl(var(--muted-foreground));\n    margin-bottom: 8px;\n    transition: color 0.3s ease;\n  }\n\n  .subaction-date {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 12px;\n    color: hsl(var(--muted-foreground));\n    transition: color 0.3s ease;\n  }\n"])));var S=s(78184),T=s(44414);const I=(0,y.L)(n=>{let{visible:e,onClose:s,action:i,t:r,isSubaction:a=!1,parentAction:l}=n;const[o,t]=(0,c.useState)("overview");if(!i)return null;const{name:d,start_at:b,end_at:y,status:_,description:A,responsive_accounts:I=[],responsive_tags:H=[],pillar_number:E,category:P,sub_category:F,attachments:L=[],sub_actions:R=[],sub_action_stats:B={}}=i,K=a&&l?{pillar_number:l.pillar_number,category:l.category,sub_category:l.sub_category}:{pillar_number:E,category:P,sub_category:F},O=n=>N.cv[n]||n,W=n=>({not_started:"secondary",in_progress:"default",completed:"success",overdue:"destructive",on_hold:"outline"}[n]||"default"),q=[K.pillar_number,K.category,K.sub_category].filter(Boolean).join(" \u2022 "),G=(0,S.N)(B).map(n=>({label:r(n.title),value:n.value||0,color:n.color})),J=[{key:"overview",label:(0,T.jsxs)("span",{children:[(0,T.jsx)(p.A,{style:{marginRight:6},size:16}),r("Overview")]}),children:(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(x.fI,{gutter:[16,16],children:[!a&&(0,T.jsx)(x.fv,{xs:24,md:12,children:(0,T.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px"},children:(0,T.jsx)(x.rW,{data:G,size:200})})}),(0,T.jsx)(x.fv,{xs:24,md:12,children:(0,T.jsx)(z,{children:(0,T.jsxs)("div",{className:"section-content",children:[(0,T.jsxs)("div",{className:"section-title",children:[(0,T.jsx)(m.A,{className:"section-icon",size:16}),(0,T.jsx)("span",{children:r("Project Timeline")})]}),(0,T.jsxs)(M,{children:[(0,T.jsx)("div",{className:"info-label",children:r("Start")}),(0,T.jsx)("div",{className:"info-value",children:j()(b).format("MMM D, YYYY")})]}),(0,T.jsxs)(M,{children:[(0,T.jsx)("div",{className:"info-label",children:r("End")}),(0,T.jsx)("div",{className:"info-value",children:j()(y).format("MMM D, YYYY")})]}),(0,T.jsxs)(M,{children:[(0,T.jsx)("div",{className:"info-label",children:r("Action Period")}),(0,T.jsxs)("div",{className:"info-value",children:[j()(b).format("MMM D")," -"," ",j()(y).format("MMM D, YYYY")]})]})]})})}),(0,T.jsx)(x.fv,{xs:24,md:a?12:24,children:(0,T.jsx)(z,{children:(0,T.jsxs)("div",{className:"section-content",children:[(0,T.jsx)("div",{className:"section-title",children:(0,T.jsx)("span",{children:r("Classification")})}),(0,T.jsxs)(M,{children:[(0,T.jsx)("div",{className:"info-label",children:r("Pillar")}),(0,T.jsx)("div",{className:"info-value",children:K.pillar_number||"N/A"})]}),(0,T.jsxs)(M,{children:[(0,T.jsx)("div",{className:"info-label",children:r("Category")}),(0,T.jsx)("div",{className:"info-value",children:K.category||"N/A"})]}),(0,T.jsxs)(M,{children:[(0,T.jsx)("div",{className:"info-label",children:r("Sub-category")}),(0,T.jsx)("div",{className:"info-value",children:K.sub_category||"N/A"})]})]})})}),L.length>0&&(0,T.jsx)(x.fv,{xs:24,md:12,children:(0,T.jsx)(z,{children:(0,T.jsxs)("div",{className:"section-content",children:[(0,T.jsx)("div",{className:"section-title",children:(0,T.jsxs)("span",{children:[r("Action Attachments")," (",L.length,")"]})}),L.map(n=>(0,T.jsxs)(D,{children:[(0,T.jsxs)("div",{className:"attachment-info",children:[(0,T.jsx)("div",{className:"file-icon",children:(0,T.jsx)(v.A,{size:16})}),(0,T.jsx)("a",{href:n.file.download_url,target:"_blank",download:!0,rel:"noopener noreferrer",className:"file-name",children:n.filename})]}),(0,T.jsxs)("div",{className:"download-btn",onClick:()=>{window.open(n.file.download_url,"_blank")},children:[(0,T.jsx)(u.A,{size:16}),r("Download")]})]},n.id))]})})}),(I.length>0||H.length>0)&&(0,T.jsx)(x.fv,{xs:24,md:12,children:(0,T.jsx)(z,{children:(0,T.jsxs)("div",{className:"section-content",children:[(0,T.jsx)("div",{className:"section-title",children:(0,T.jsx)("span",{children:r("Assigned Tags")})}),(0,T.jsxs)(k,{children:[H.map(n=>(0,T.jsx)(Y,{children:n.title},n.title)),I.map(n=>(0,T.jsxs)(Y,{children:[n.first_name," ",n.last_name||""]},n.id))]})]})})}),A&&(0,T.jsx)(x.fv,{xs:24,children:(0,T.jsx)(z,{children:(0,T.jsxs)("div",{className:"section-content",children:[(0,T.jsx)("div",{className:"section-title",children:(0,T.jsx)("span",{children:r("Description")})}),(0,T.jsx)("div",{style:{paddingTop:8,lineHeight:"1.6",color:"#262626"},dangerouslySetInnerHTML:{__html:A}})]})})})]})})},{key:"subactions",isHidden:a,label:(0,T.jsxs)("span",{children:[(0,T.jsx)(f.A,{style:{marginRight:6},size:16}),r("Sub-Actions")," (",R.length,")"]}),children:(0,T.jsx)("div",{style:{marginTop:16},children:R.length>0?R.map((n,e)=>{var s;return(0,T.jsxs)(C,{children:[(0,T.jsxs)("div",{className:"subaction-header",children:[(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1},children:[(0,T.jsxs)("span",{className:"subaction-number",children:["#",null!==(s=n.number)&&void 0!==s?s:e]}),(0,T.jsx)(x.Ex,{variant:W(n.status),children:O(n.status)})]}),(0,T.jsx)(g.A,{className:"expand-icon",size:16})]}),(0,T.jsx)("div",{className:"subaction-description",children:n.name}),(0,T.jsxs)("div",{className:"subaction-date",children:[(0,T.jsx)(m.A,{size:14}),j()(n.start_at).format("MMM D")," -"," ",j()(n.end_at).format("MMM D, YYYY")]})]},n.id)}):(0,T.jsx)("div",{style:{textAlign:"center",padding:"60px 20px",color:"#8c8c8c"},children:r("No sub-actions available")})})}];return(0,T.jsx)(x.aF,{title:null,open:e,onCancel:s,footer:null,width:800,zIndex:1080,styles:{content:{padding:"32px"}},children:(0,T.jsxs)(w,{className:"view-action-modal",children:[(0,T.jsxs)("div",{className:"modal-header",children:[(0,T.jsxs)("div",{className:"header-left",children:[(0,T.jsx)("h1",{children:d}),q&&(0,T.jsx)("div",{className:"subtitle",children:q})]}),(0,T.jsx)("div",{className:"header-right",children:(0,T.jsx)(x.Ex,{variant:W(_),children:O(_)})})]}),(0,T.jsx)(h.A,{activeKey:o,onChange:t,items:J.filter(n=>!n.isHidden),style:{marginTop:24}})]})})})}}]);